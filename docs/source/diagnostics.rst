Диагностика и тесты
===================

Команда `$SELFTEST` запускает последовательность: homing, круг радиуса 50 мм,
квадрат 100×100 мм и сплайновую восьмёрку. Итоги записываются в лог с
показателями максимального отклонения и счётчиком пропусков Sync0. Для
автоматизации используется набор тестов `tests/` с интеграционными сценариями и
смоделированной шиной EtherCAT.

Отдельный скрипт ``tests/run_qemu_selftest.sh`` собирает минимальную программу
под MIPS64 и запускает её через ``qemu-mips64el``. Тест проверяет корректность
базовых операций с фиксированной точкой и служит быстрым индикатором
работоспособности кросс-компиляции. При отсутствии QEMU или целевого toolchain
скрипт корректно сообщает о пропуске.

Дополнительные юнит-тесты проверяют импорт XML описаний KEBA, визуализатор и
синтетическое машинное зрение, что гарантирует готовность цифрового двойника при
отсутствии реального оборудования.

Хостовые тесты также компилируют пример Structured Text, загружают профиль
TinyML и выполняют разбор расширенного G-кода, обеспечивая защиту IDE от
регрессий. При экспорте проектов автоматически формируется CSV-файл с
кинематическими данными, позволяющий отлаживать углы приводов и фактические
скорости без подключения аппаратуры.
